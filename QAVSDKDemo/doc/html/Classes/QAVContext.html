<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>QAVContext Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">QAVSDKDemo </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">com.zh.albert</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	
	<optgroup label="Properties">
		
		<option value="//api/name/Config">Config</option>
		
		<option value="//api/name/audioCtrl">audioCtrl</option>
		
		<option value="//api/name/room">room</option>
		
		<option value="//api/name/videoCtrl">videoCtrl</option>
		
	</optgroup>
	

	
	<optgroup label="Class Methods">
		
		<option value="//api/name/CreateContext:">+ CreateContext:</option>
		
		<option value="//api/name/DestroyContext:">+ DestroyContext:</option>
		
	</optgroup>
	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/enterRoom:delegate:">- enterRoom:delegate:</option>
		
		<option value="//api/name/exitRoom">- exitRoom</option>
		
		<option value="//api/name/startContext:">- startContext:</option>
		
		<option value="//api/name/stopContext:">- stopContext:</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">QAVContext Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td>NSObject</td>
</tr><tr>
	<th>Declared in</th>
	<td>QAVContext.h</td>
</tr>
						</tbody></table></div>
					

                    
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/Config" title="Config"></a>
	<h3 class="method-title"><code><a href="#//api/name/Config">&nbsp;&nbsp;Config</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>创建AVContext对象所需的配置信息</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (retain, nonatomic) QAVContextConfig *Config</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>创建AVContext对象所需的配置信息</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">QAVContext.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/room" title="room"></a>
	<h3 class="method-title"><code><a href="#//api/name/room">&nbsp;&nbsp;room</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>音视频房间</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (readonly, nonatomic) QAVRoom *room</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>音视频房间</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">QAVContext.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/audioCtrl" title="audioCtrl"></a>
	<h3 class="method-title"><code><a href="#//api/name/audioCtrl">&nbsp;&nbsp;audioCtrl</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>音频控制器</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (readonly, nonatomic) QAVAudioCtrl *audioCtrl</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>音频控制器</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">QAVContext.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/videoCtrl" title="videoCtrl"></a>
	<h3 class="method-title"><code><a href="#//api/name/videoCtrl">&nbsp;&nbsp;videoCtrl</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>视频控制器</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (readonly, nonatomic) QAVVideoCtrl *videoCtrl</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>视频控制器</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">QAVContext.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/CreateContext:" title="CreateContext:"></a>
	<h3 class="method-title"><code><a href="#//api/name/CreateContext:">+&nbsp;CreateContext:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>创建QAVContext对象。</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>+ (QAVContext *)CreateContext:(QAVContextConfig *)<em>config</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>config</code></th>
						<td><p>创建QAVContext所需的配置信息。</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>成功则返回QAVContext的实例指针；否则返回nil。</p>

<p>@remark
- 创建成功之后，App需要进一步调用StartContext来启动QAVContext对象。
- App必须保证QAVContext实例的唯一性，同时创建多个QAVContext实例可能会因为设备占用等方面的原因，出现无法预料的结果。</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>App使用SDK总是从CreateContext开始的，该静态成员函数返回一个新的QAVContext实例。</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">QAVContext.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/DestroyContext:" title="DestroyContext:"></a>
	<h3 class="method-title"><code><a href="#//api/name/DestroyContext:">+&nbsp;DestroyContext:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>销毁目前的QAVContext的单例对象。</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>+ (void)DestroyContext:(QAVContext *)<em>context</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>context</code></th>
						<td><p>需要销毁的QAVContext对象。</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>需要在CreateContext之后才能调用</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">QAVContext.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/startContext:" title="startContext:"></a>
	<h3 class="method-title"><code><a href="#//api/name/startContext:">&ndash;&nbsp;startContext:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>启动QAVContext对象。</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (QAVResult)startContext:(ContextOperationBlock)<em>block</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>block</code></th>
						<td><p>返回启动Context的结果是成功还是失败</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>返回值表示异步操作启动是否成功；异步操作执行结果通过回调函数返回。</p>

<p>@retval QAV_OK 启动成功。
@retval 其他值 启动失败。</p>

<p>@remark
- 只有当异步操作启动成功的时候，才会通过回调函数异步返回执行结果；
- 当异步操作启动失败的时候，直接通过StartContext的返回值返回错误，不会再触发回调函数；
- App收到block回调的时候，表示StartContext执行完毕；
- startContext执行成功之后，App才能进一步调用QAVContext的其他成员函数；
- startContext执行成功之后，App必须调用stopContext来终止QAVContext对象。</p>

<p>@attention 以下两点约定也适用于SDK的其他异步操作接口：
-# 只有当异步操作启动成功的时候，才会通过回调函数异步返回执行结果；
-# 当异步操作启动失败的时候，直接通过StartContext的返回值返回错误，不会再触发回调函数。</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>StartContext是一个异步操作，内部会启动工作线程，创建各种内部对象。</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">QAVContext.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/stopContext:" title="stopContext:"></a>
	<h3 class="method-title"><code><a href="#//api/name/stopContext:">&ndash;&nbsp;stopContext:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>终止QAVContext对象。</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (QAVResult)stopContext:(ContextOperationBlock)<em>block</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>block</code></th>
						<td><p>返回终止Context的结果是成功还是失败</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>返回值表示异步操作启动是否成功；异步操作执行结果通过回调函数返回。</p>

<p>@retval QAV_OK 启动成功。
@retval 其他值 启动失败。</p>

<p>@remark
- App应该设法保证startContext和stopContext的配对调用；
- stopContext内部如果判断到当前还没退出音视频房间，会自动调用ExitRoom；</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>stopContext是一个异步操作，内部会终止工作线程，销毁各种内部对象。</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">QAVContext.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/enterRoom:delegate:" title="enterRoom:delegate:"></a>
	<h3 class="method-title"><code><a href="#//api/name/enterRoom:delegate:">&ndash;&nbsp;enterRoom:delegate:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>进入音视频房间。</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (QAVResult)enterRoom:(QAVRoomParam *)<em>param</em> delegate:(id&lt;QAVRoomDelegate&gt;)<em>dlg</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>param</code></th>
						<td><p>进入房间所需的参数：
\n 进入双人房间，必须传递QAVPairParam类型的参数；
\n 进入多人房间，必须传递QAVMultiParam类型的参数。</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>dlg</code></th>
						<td><p>房间委托对象：
\n 进入双人房间和多人房间，都统一传递继承avRoomDelegate的委托对象。</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>返回值表示异步操作启动是否成功；</p>

<p>异步操作执行结果通过继承QAVRoomDelegate的委托对象的OnEnterRoomComplete()返回。</p>

<p>@retval QAV_OK 启动成功。
@retval QAV_ERR_CONTEXT_NOT_STARTED StartContext()没有执行成功。
@retval QAV_ERR_ALREADY_EXISTS 没有退出上一个音视频房间。
@retval QAV_ERR_INVALID_ARGUMENT 委托或房间配置信息为空，或者委托和房间类型不匹配。</p>

<p>@remark EnterRoom必须在StartContext执行成功之后调用才有效。
目前同一时刻只支持进入一个音视频房间，所以：
- 调用EnterRoom之前，必须先退出上一个音视频房间；
- 如果当前AVContext中已经存在一个音视频房间，调用EnterRoom会同步返回失败。</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>EnterRoom()是一个异步操作，内部会连接服务器，申请进入音视频房间。</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">QAVContext.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/exitRoom" title="exitRoom"></a>
	<h3 class="method-title"><code><a href="#//api/name/exitRoom">&ndash;&nbsp;exitRoom</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>退出音视频房间。</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (QAVResult)exitRoom</code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>返回值表示异步操作启动是否成功；
异步操作执行结果通过继承QAVRoomDelegate的委托对象的OnExitRoomComplete()返回。</p>

<p>@retval QAV_OK 启动成功。
@retval 其他值 启动失败。</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>ExitRoom是一个异步操作，内部会连接服务器，申请退出音视频房间。</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">QAVContext.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2016 com.zh.albert. All rights reserved. Updated: 2016-03-13</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>